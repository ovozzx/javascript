<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>DOM - Create & Add Node</title>
	<style>
		#container {
			width:500px;
			margin:20px auto;
		}
		h1 {
			font-size:2.5em;
			text-align: center
		}
		form {
			margin-top:50px;			
		}
		input[type="text"] {
			float:left;
			width:300px;
			padding:12px;
			border:none;
			border-bottom:1px solid #ccc;
			font-size:20px;
		}
		input:focus {
			outline: none;
		}
		button {
			width:100px;
			border:1px solid #ccc;
			border-radius:7px;
			padding:12px;	
			margin-left:30px;
			font-size:20px;
		}
		button:hover {
			background-color:#ccc;
		}
		hr {
			clear:both;
			visibility: hidden;
		}
		#nameList > p {
			font-size:20px;
			text-indent:50px;
			line-height: 1.5;
		}
		.del {
			font-size:20px;
			text-align: center;
			color:#ccc;
			background:transparent;
			float:right;
			margin-right:10px;
		}
		.del:hover {
			color:#222;
			cursor: pointer;
		}
		.del:active {
			outline:0;
		}        
    </style>
</head>
<body>
    <div id="container">
        <h1>ì°¸ê°€ ì‹ ì²­</h1>
        <form action=""> 
        <!-- í¼ : ì‚¬ìš©ìì˜ ì…ë ¥ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•œ ì˜ì—­ (í…ìŠ¤íŠ¸ ì…ë ¥ì°½ì´ë‚˜ ë²„íŠ¼ì„ í¬í•¨í•œ ì…ë ¥ ì–‘ì‹)-->
        <!-- action -> í¼ì„ ì œì¶œí–ˆì„ ë•Œ ë³´ë‚¼ ì„œë²„ ì£¼ì†Œ (ë¹ˆê°’ = ì•„ë¬´ ê³³ì—ë„ ì „ì†¡ ì•ˆ í•¨)-->
            <input type="text" id="userName" placeholder="ì´ë¦„" required autocomplete="off"> 
            <!--placeholder -> ì…ë ¥ í•„ë“œì— ì•„ë¬´ê²ƒë„ ì…ë ¥ë˜ì§€ ì•Šì„ ë•Œ, íšŒìƒ‰ ì•ˆë‚´ë¬¸êµ¬ë¡œ í‘œì‹œë¨-->
            <!--required -> í•„ìˆ˜ ì…ë ¥ ì¡°ê±´ (ë¹ˆ ì…ë ¥ìœ¼ë¡œ í¼ ì œì¶œ ë¶ˆê°€ëŠ¥), ì—¬ê¸°ì„œëŠ” true (ì†ì„±ëª…ë§Œ ì¨ë„ true) -->
            <!--autocomplete : ê³¼ê±° ì…ë ¥ ê°’ ì œì•ˆ ê¸°ëŠ¥ (ìë™ ì™„ì„±) off (ë³´ì•ˆ ëª©ì ) -->
            <button onclick="newRegister();return false;">ì‹ ì²­</button>
            <!--return false -> ì…ë ¥ ë‚´ìš©ì„ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš© X (ê¸°ë³¸ í¼ ì œì¶œ ë§‰ìŒ, í˜ì´ì§€ ì „í™˜ ë°©ì§€), ì´ ë‚´ìš© ì—†ìœ¼ë©´ ë²„íŠ¼ í´ë¦­ ì‹œ ë¹ˆ í˜ì´ì§€ë¡œ ë„˜ì–´ê°-->
            <!--<form>ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë²„íŠ¼ í´ë¦­ ì‹œ action ê²½ë¡œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ë©´ì„œ í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë¨.-->
        </form>
        <hr> <!--ìˆ˜í‰ì„ -->
        <div id="nameList"></div>
    </div>
    <script>
        function newRegister(){
            var newP = document.createElement("p"); 
            var userName = document.querySelector("#userName");
            var newText = document.createTextNode(userName.value);
            newP.appendChild(newText);

            var delBttn = document.createElement("span") // span -> í•œì¤„ ì¸ë¼ì¸ìš”ì†Œ (ì‘ì€ ì•„ì´ì½˜ì´ë‚˜ í…ìŠ¤íŠ¸ ë“±ì„ ë¼ì¸ ì•ˆì— ê°„ë‹¨í•˜ê²Œ ì‚½ì…í•  ë•Œ ì í•©í•œ íƒœê·¸, ì‘ê³  ê°„ë‹¨í•œ í´ë¦­ìš© UI êµ¬ì„±ì— ìµœì í™”)
            var delText = document.createTextNode("X");
            delBttn.setAttribute("class","del");
            delBttn.appendChild(delText); // <span>X</span> í˜•íƒœ ì™„ì„±
            newP.appendChild(delBttn); // ì‚¬ìš©ì ì´ë¦„ ì˜†ì— ì¶”ê°€
            /* ìœ„ ë‚´ìš©ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ê°€ ë¨, ğŸ’¡ ìì‹ë…¸ë“œë©´ <íƒœê·¸></íƒœê·¸> ì‚¬ì´ì— ë“¤ì–´ê°€ëŠ” ê°’ì´ ë¨
            <p>                     â† newP
            â”œâ”€â”€ "í™ê¸¸ë™"            â† newText
            â””â”€â”€ <span class="del">  â† delBttn
                â””â”€â”€ "X"            â† delText

            <p>
            ì‚¬ìš©ì ì´ë¦„ (í…ìŠ¤íŠ¸ ë…¸ë“œ)
            <span class="del">X</span>
            </p>
            */
            var nameList = document.querySelector("#nameList");
            nameList.insertBefore(newP, nameList.childNodes[0]); 
            // insertBefore(ì¶”ê°€í•  ìš”ì†Œ, ê¸°ì¤€ ìš”ì†Œ) -> ê¸°ì¤€ ìš”ì†Œ ì•ì— ì¶”ê°€ (ê°€ì¥ ìœ„ì— ì´ë¦„ ì¶”ê°€)
            // childNodes -> ì„ íƒí•œ ìš”ì†Œì˜ ëª¨ë“  ìì‹ ë…¸ë“œë¥¼ ë°°ì—´ë¡œ ë°˜í™˜ ğŸš¨ í…ìŠ¤íŠ¸ ë…¸ë“œë„ í¬í•¨ë˜ì–´, ì¤„ë°”ê¿ˆ ë“±ì´ ë‚˜ì˜¬ ìˆ˜ ìˆìŒ
            userName.value = ""; // í…ìŠ¤íŠ¸ ë°•ìŠ¤ ì§€ì›€

            var removeBttns = document.querySelectorAll(".del");

            for(let i=0;i<removeBttns.length;i++){
                removeBttns[i].addEventListener("click", function (){                    
                    if (this.parentNode.parentNode) // this(span ìš”ì†Œ)ì˜ ë¶€ëª¨(p)ì˜ ë¶€ëª¨(<div id="nameList">)ê°€ ìˆì„ ê²½ìš° ì‹¤í–‰
                        this.parentNode.parentNode.removeChild(this.parentNode);
                        // removeChild -> ë¶€ëª¨ ë…¸ë“œì—ì„œ ìì‹ ë…¸ë“œ ì‚­ì œ => ë¶€ëª¨(<div id="nameList">).removeChild(ìì‹(p))
                }
            );
            }
        }
    
    </script>
</body>
</html>